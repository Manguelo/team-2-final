----SEMESTER STORED PROCEDURES----

sp_CheckSemesterIDExists

CREATE PROCEDURE [dbo].sp_CheckSemesterIDExists
	@semesterID nvarchar(15)
	,@recCount int = 0 OUTPUT
AS
	BEGIN
		SET @recCount = (SELECT count(0) FROM SEMESTER WHERE SemesterID = @semesterID)
		SELECT @recCount as RecordCount
	END
RETURN 0

sp_getAllSemesters 

CREATE PROCEDURE [dbo].sp_getAllSemesters
AS
	SELECT * FROM COURSE
RETURN 0

sp_SaveSemester 

CREATE PROCEDURE [dbo].sp_SaveSemester
	@semesterID nvarchar(15)
	,@semesterDescription nvarchar(100)
AS
	Declare @countExists int
	SELECT @countExists = count(0) FROM SEMESTER WHERE @semesterID = SemesterID
	IF (@countExists = 0)
	BEGIN
		INSERT INTO [dbo].SEMESTER
		(
		SemesterID
		,SemesterDescription
		)
		VALUES
		(
		@semesterID
		,@semesterDescription
		)
	END
	ELSE
	BEGIN
		UPDATE [dbo].SEMESTER
		SET
		 [SemesterDescription] = @semesterDescription
		WHERE SemesterID = @semesterID
	END
RETURN @@error

----COURSE STORED PROCEDURES----


CREATE PROCEDURE [dbo].sp_getCourses
AS
	SELECT * FROM COURSE
RETURN 0

CREATE PROCEDURE [dbo].sp_getCourseByCourseID
	@courseID nvarchar(15)
AS
	SELECT * FROM COURSE
	WHERE courseID = @courseID
RETURN 0

CREATE PROCEDURE [dbo].sp_CheckCourseIDExists
	@courseID nvarchar(15)
	,@recCount int = 0 OUTPUT
AS
	BEGIN
		SET @recCount = (SELECT count(0) FROM COURSE WHERE CourseID = @courseID)
		SELECT @recCount as RecordCount
	END
RETURN 0

CREATE PROCEDURE [dbo].sp_SaveCourse
	@courseID nvarchar(15)
	,@courseName nvarchar(100)
AS
	Declare @countExists int
	SELECT @countExists = count(0) FROM COURSE WHERE @courseID = CourseID
	IF (@countExists = 0)
	BEGIN
		INSERT INTO [dbo].COURSE
		(
		CourseID
		,CourseName
		)
		VALUES
		(
		@courseID
		,@courseName
		)
	END
	ELSE
	BEGIN
		UPDATE [dbo].COURSE
		SET
		 [courseName] = @courseName
		WHERE CourseID = @courseID
	END
RETURN @@error
